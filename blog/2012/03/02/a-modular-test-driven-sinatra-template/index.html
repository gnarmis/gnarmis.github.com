
<!DOCTYPE html>
<!--[if IEMobile 7 ]><html class="no-js iem7"><![endif]-->
<!--[if lt IE 9]><html class="no-js lte-ie8"><![endif]-->
<!--[if (gt IE 8)|(gt IEMobile 7)|!(IEMobile)|!(IE)]><!--><html class="no-js" lang="en"><!--<![endif]-->
<head>
  <meta charset="utf-8">
  <title>A modular, test-driven Sinatra template - Kilotau</title>
  <meta name="author" content="Gursimran Singh">

  
  <meta name="description" content="I recently found a (somewhat old) but great repository: https://github.com/daddz/sinatra-rspec-bundler-template.
The structure really helps you build &hellip;">
  

  <!-- http://t.co/dKP3o1e -->
  <meta name="HandheldFriendly" content="True">
  <meta name="MobileOptimized" content="320">
  <meta name="viewport" content="width=device-width, initial-scale=1">

  
  <link rel="canonical" href="http://gnarmis.github.com/blog/2012/03/02/a-modular-test-driven-sinatra-template/">
  <link href="/favicon.png" rel="icon">
  <link href="/stylesheets/screen.css" media="screen, projection" rel="stylesheet" type="text/css">
  <script src="/javascripts/modernizr-2.0.js"></script>
  <script src="/javascripts/ender.js"></script>
  <script src="/javascripts/octopress.js" type="text/javascript"></script>
  <link href="/atom.xml" rel="alternate" title="Kilotau" type="application/atom+xml">
  <!--Fonts from Google"s Web font directory at http://google.com/webfonts -->
<link href="http://fonts.googleapis.com/css?family=PT+Serif:regular,italic,bold,bolditalic" rel="stylesheet" type="text/css">
<link href="http://fonts.googleapis.com/css?family=PT+Sans:regular,italic,bold,bolditalic" rel="stylesheet" type="text/css">

  
  <script type="text/javascript">
    var _gaq = _gaq || [];
    _gaq.push(['_setAccount', 'UA-27751478-1']);
    _gaq.push(['_trackPageview']);

    (function() {
      var ga = document.createElement('script'); ga.type = 'text/javascript'; ga.async = true;
      ga.src = ('https:' == document.location.protocol ? 'https://ssl' : 'http://www') + '.google-analytics.com/ga.js';
      var s = document.getElementsByTagName('script')[0]; s.parentNode.insertBefore(ga, s);
    })();
  </script>


</head>

<body   >
  <!-- <header role="banner"></header> -->
  <nav role="navigation"><ul class="subscription" data-subscription="rss">
  <li><a href="/atom.xml" rel="subscribe-rss" title="subscribe via RSS">RSS</a></li>
  
</ul>
  
<form action="http://google.com/search" method="get">
  <fieldset role="search">
    <input type="hidden" name="q" value="site:gnarmis.github.com" />
    <input class="search" type="text" name="q" results="0" placeholder="Search"/>
  </fieldset>
</form>
  
<ul class="main-navigation">
  <li><a href="/"><i>Kilotau</i></a></li>
  <li><a href="/">blog</a></li>
  <li><a href="/blog/archives">archives</a></li>
</ul>

</nav>
  <div id="main">
    <div id="content">
      <div>
<article class="hentry" role="article">
  
  <header>
    
      <h1 class="entry-title">A Modular, Test-driven Sinatra Template</h1>
    
    
      <p class="meta">
        








  


<time datetime="2012-03-02T19:28:00-06:00" pubdate data-updated="true">Mar 2<span>nd</span>, 2012</time>
        
      </p>
    
  </header>


<div class="entry-content"><p>I recently found a (somewhat old) but great repository: https://github.com/daddz/sinatra-rspec-bundler-template.
The structure really helps you build modular Sinatra apps and has the basics
needed for you to jump in and start building.</p>

<p>However, after discovering the joys of the <a href="https://www.ruby-toolbox.com/projects/simplecov">SimpleCov</a> gem, which generates
code coverage reports in HTML, I wanted to tweak this already-awesome repository.
Also, I wanted a few more Rake tasks to help with everyday development.</p>

<p>So, <a href="https://github.com/gnarmis/sinatra-rspec-bundler-template">here&#8217;s my fork</a> with some improvements.</p>

<p>To begin, just define your own app like the one defined in lib/foo.rb. You
can create multiple such apps and route requests to each one separately. To
do that, just add those mappings to config.ru (foo and bar have been configured
in this manner).</p>

<p>This template also uses Bundler to manage its dependencies, so if you need
a new gem just add it to the Gemfile and run <code>bundle install</code>. I also recommend
using RVM to manage your gems (create a new gemset for each app).</p>

<p>Also, use RSpec to test your app, and run the specs with the defined Rake tasks.
Run <code>rake</code> or <code>rake help</code> to see available tasks. Run <code>rake spec</code> to run your
specs defined under spec/.</p>

<p>You can generate code coverage reports by running <code>rake coverage</code>.</p>

<p>You can also run a console with your app&#8217;s environment by running <code>rake console</code>.</p>

<p>So, there you have it: a simple template with enough structure to support your
Sinatra development.</p>
</div>


  <footer>
    <p class="meta">
      
  

<span class="byline author vcard">Posted by <span class="fn">Gursimran Singh</span></span>

      








  


<time datetime="2012-03-02T19:28:00-06:00" pubdate data-updated="true">Mar 2<span>nd</span>, 2012</time>
      


    </p>
    
      <div class="sharing">
  
  <a href="http://twitter.com/share" class="twitter-share-button" data-url="http://gnarmis.github.com/blog/2012/03/02/a-modular-test-driven-sinatra-template/" data-via="gnarmis" data-counturl="http://gnarmis.github.com/blog/2012/03/02/a-modular-test-driven-sinatra-template/" >Tweet</a>
  
  
  
</div>

    
    <p class="meta">
      
        <a class="basic-alignment left" href="/blog/2012/02/28/my-cats-mini-course-about-web-dev/" title="Previous Post: My CATS mini-course about web dev">&laquo; My CATS mini-course about web dev</a>
      
      
        <a class="basic-alignment right" href="/blog/2012/03/10/rocketship/" title="Next Post: Rocketship">Rocketship &raquo;</a>
      
    </p>
  </footer>
</article>

</div>

<aside class="sidebar">
  
    <section>
  <h2><i>a blog about the joys of programming</i></h2>
</section><section>
  <h1>About Me</h1>
  <p>Hi, I'm Gursimran Singh (<a href="http://twitter.com/gnarmis">@gnarmis</a>). I'm a Northwestern student, programmer, and sci-fi fan, and I have an interest in startup culture.</p>
</section>
<section>
  <h1>Recent Posts</h1>
  <ul id="recent_posts">
    
      <li class="post">
        <a href="/blog/2013/01/05/project-euler-problem-3-using-clojure-1-dot-5-and-a-lazy-technique/">Project Euler Problem 3 using Clojure 1.5 and a lazy technique</a>
      </li>
    
      <li class="post">
        <a href="/blog/2012/12/18/repomap-track-your-local-git-repositories/">RepoMap: track your local git repositories</a>
      </li>
    
      <li class="post">
        <a href="/blog/2012/10/18/hack-northwestern-updates/">Hack Northwestern updates</a>
      </li>
    
      <li class="post">
        <a href="/blog/2012/09/26/rubys-method-missing-is-kinda-nice/">Ruby's `method_missing` is cool / hashes as functions of their keys</a>
      </li>
    
      <li class="post">
        <a href="/blog/2012/09/25/on-ruby-1-dot-9-s-flexible-syntax/">On Ruby 1.9's Flexible Syntax</a>
      </li>
    
  </ul>
</section>

<section>
  <h1>Latest Tweets</h1>
  <ul id="tweets">
    <li class="loading">Status updating...</li>
  </ul>
  <script type="text/javascript">
    $.domReady(function(){
      getTwitterFeed("gnarmis", 10, false);
    });
  </script>
  <script src="/javascripts/twitter.js" type="text/javascript"> </script>
  
    <a href="http://twitter.com/gnarmis" class="twitter-follow-button" data-show-count="false">Follow @gnarmis</a>
  
</section>



  
</aside>


    </div>
  </div>
  <footer role="contentinfo" style="margin-bottom:0;"><p>
  Copyright &copy; 2013 - Gursimran Singh -
  <span class="credit">Powered by <a href="http://octopress.org">Octopress</a></span>
</p>

</footer>
  







  <script type="text/javascript">
    (function(){
      var twitterWidgets = document.createElement('script');
      twitterWidgets.type = 'text/javascript';
      twitterWidgets.async = true;
      twitterWidgets.src = 'http://platform.twitter.com/widgets.js';
      document.getElementsByTagName('head')[0].appendChild(twitterWidgets);
    })();
  </script>





</body>
</html>
